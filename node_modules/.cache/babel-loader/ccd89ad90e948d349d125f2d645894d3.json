{"remainingRequest":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\babel-loader\\lib\\index.js!D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\TravelProducts.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\TravelProducts.vue","mtime":1594781098626},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.split\";\nimport \"core-js/modules/es6.array.find\";\nimport \"core-js/modules/es7.string.pad-start\";\nimport \"core-js/modules/es6.regexp.constructor\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport \"core-js/modules/web.dom.iterable\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'basetable',\n  data: function data() {\n    return {\n      query: {\n        pro_number: '',\n        provider: '',\n        title: \"\",\n        status: \"\",\n        pageIndex: 1,\n        pageSize: 5\n      },\n      show_state: '',\n      searchType: \"\",\n      search_key_word: '',\n      tableData: [],\n      securityList: ['无购物'],\n      themeList: ['古镇水乡'],\n      trafficList: ['汽车'],\n      ajaxData: {\n        basic: {},\n        paramList: [],\n        imgList: []\n      },\n      load_over: false,\n      handleName: '',\n      multipleSelection: [],\n      delList: [],\n      editVisible: false,\n      pageTotal: 0,\n      form: {},\n      idx: -1,\n      id: -1,\n      start_city: '',\n      end_city: '',\n      travelParams: {},\n      dialogImageUrl: '',\n      dialogVisible: false,\n      detailImgList: [],\n      uploadImgUrl: '',\n      imageUrl: ''\n    };\n  },\n  created: function created() {\n    if (JSON.parse(localStorage.getItem('travelParams'))) {\n      this.travelParams = JSON.parse(localStorage.getItem('travelParams'));\n    } else {\n      this.initparams();\n    }\n\n    this.getData();\n    this.uploadImgUrl = this.base_api_url + 'web/uploadImg';\n  },\n  methods: {\n    getShowState: function getShowState(e) {\n      this.query.status = e;\n      this.getData();\n    },\n    get_key: function get_key(e) {\n      console.log(e);\n      this.search_key_word = e;\n    },\n    setKey: function setKey() {\n      this.initQuery();\n      var e = this.searchType || 1;\n      if (e == 1) this.query.pro_number = this.search_key_word;\n      if (e == 2) this.query.title = this.search_key_word;\n      if (e == 3) this.query.provider = this.search_key_word;\n    },\n    initQuery: function initQuery() {\n      this.query.pro_number = \"\";\n      this.query.title = \"\";\n      this.query.provider = \"\";\n    },\n    getData: function getData() {\n      var _this = this;\n\n      this.setKey();\n      var that = this;\n      this.load_over = false;\n      this.api.getTravelProducts({\n        pro_number: this.query.pro_number,\n        title: this.query.title,\n        provider: this.query.provider,\n        status: this.query.status,\n        pageNum: this.query.pageIndex,\n        pageSize: this.query.pageSize\n      }).then(function (res) {\n        if (res.code == '200') {\n          var data = res.data;\n          var tableData = {\n            list: [],\n            total: data.total\n          };\n          data.list.forEach(function (d) {\n            d.product.imgList = d.imageList;\n            d.product.paramsList = d.paramsList;\n            tableData.list.push(d.product);\n          });\n          tableData.list.forEach(function (v) {\n            v.avatar = that.base_api_url + v.avatar;\n            v.start_city = that.idTocity(v.start_city_id);\n            v.end_city = that.idTocity(v.end_city_id);\n            v.start_time = that.dateFormat(v.start_time, 'yyyy-MM-dd');\n            v.end_time = that.dateFormat(v.end_time, 'yyyy-MM-dd');\n            var arr = [];\n            arr.push(v.start_time);\n            arr.push(v.end_time);\n            v.dateArr = arr;\n            v.trip_day_id = v.trip_days;\n            v.trip_days = v.trip_days + '天' + (v.trip_days - 1) + '晚';\n            v.status = v.status == 1 ? true : false;\n\n            if (v.imgList.length > 0) {\n              var imgs = [];\n              v.imgList.forEach(function (img) {\n                imgs.push(that.base_api_url + img.url);\n              });\n              v.imgList = imgs;\n            }\n\n            var securityList = [];\n            var themeList = [];\n            var trafficList = [];\n\n            if (v.paramsList.length > 0) {\n              v.paramsList.forEach(function (p) {\n                if (p.category_id === 3) securityList.push(that.idToName(p.category_con_id, 3));\n                if (p.category_id === 4) trafficList.push(that.idToName(p.category_con_id, 4));\n                if (p.category_id === 5) themeList.push(that.idToName(p.category_con_id, 5));\n              });\n            }\n\n            v.securityList = securityList;\n            v.trafficList = trafficList;\n            v.themeList = themeList;\n          });\n          _this.tableData = tableData.list;\n          console.log(tableData.list);\n          _this.pageTotal = tableData.total || 0;\n          _this.load_over = true;\n        }\n      });\n    },\n    //获取产品编号\n    getProNumber: function getProNumber(e) {\n      this.ajaxData.basic.pro_number = e;\n    },\n    //获取产品名称\n    getProTitle: function getProTitle(e) {\n      this.ajaxData.basic.title = e;\n    },\n    //获取产品提供商\n    getProvider: function getProvider(e) {\n      this.ajaxData.basic.provider = e;\n    },\n    //获取出发地id\n    getStartCity: function getStartCity(e) {\n      this.ajaxData.basic.start_city_id = e;\n    },\n    //获取目的地id\n    getEndCity: function getEndCity(e) {\n      this.ajaxData.basic.end_city_id = e;\n    },\n    //获取成人价格\n    getAdultPrice: function getAdultPrice(e) {\n      this.ajaxData.basic.adult_price = e;\n    },\n    //获取成人价格\n    getChildPrice: function getChildPrice(e) {\n      this.ajaxData.basic.child_price = e;\n    },\n    //获取产品的服务保障，交通类型，游玩主题等\n    getParams: function getParams() {\n      var _this2 = this;\n\n      this.ajaxData.paramList = [];\n      var arr1 = this.securityList.map(function (item) {\n        return {\n          category_id: 3,\n          category_con_id: _this2.idToName(item, 3, true)\n        };\n      });\n      var arr2 = this.trafficList.map(function (item) {\n        return {\n          category_id: 4,\n          category_con_id: _this2.idToName(item, 4, true)\n        };\n      });\n      var arr3 = this.themeList.map(function (item) {\n        return {\n          category_id: 5,\n          category_con_id: _this2.idToName(item, 5, true)\n        };\n      });\n      this.ajaxData.paramList = this.ajaxData.paramList.concat(arr1, arr2, arr3);\n    },\n    //获取行程天数\n    getTripDay: function getTripDay(e) {\n      this.ajaxData.basic.trip_days = this.idToName(e, 6);\n    },\n    //获取有效日期\n    getDate: function getDate(e) {\n      this.ajaxData.basic.start_time = e[0];\n      this.ajaxData.basic.end_time = e[1];\n    },\n    //获取产品状态\n    getStatus: function getStatus(e) {\n      this.ajaxData.basic.status = e ? 1 : 0;\n    },\n    handlePictureSuccess: function handlePictureSuccess(response, file, fileList) {\n      this.handleImgList(fileList);\n    },\n    handleRemove: function handleRemove(file, fileList) {\n      this.handleImgList(fileList);\n    },\n    handlePictureCardPreview: function handlePictureCardPreview(file) {\n      this.dialogImageUrl = file.url;\n      this.dialogVisible = true;\n    },\n    //图片处理\n    handleImgList: function handleImgList(fileList) {\n      var _this3 = this;\n\n      var imgList = [];\n      var ajaxImgList = [];\n      fileList.forEach(function (i) {\n        if (i.response.code == '200') {\n          imgList.push(_this3.base_api_url + i.response.data);\n          ajaxImgList.push({\n            url: i.response.data\n          });\n        }\n      });\n      this.form.imgList = imgList;\n      this.ajaxData.imgList = ajaxImgList;\n    },\n    //参数处理\n    editParam: function editParam() {\n      this.ajaxData.basic.id = this.form.id;\n      this.ajaxData.basic.pro_number = this.form.pro_number;\n      this.ajaxData.basic.title = this.form.title;\n      this.ajaxData.basic.provider = this.form.provider;\n      this.ajaxData.basic.avatar = this.form.avatar.replace(this.base_api_url, '');\n      this.ajaxData.basic.start_city_id = this.form.start_city_id;\n      this.ajaxData.basic.end_city_id = this.form.end_city_id;\n      this.ajaxData.basic.start_time = this.form.dateArr[0];\n      this.ajaxData.basic.end_time = this.form.dateArr[1];\n      this.ajaxData.basic.adult_price = this.form.adult_price;\n      this.ajaxData.basic.child_price = this.form.child_price;\n      this.ajaxData.basic.trip_days = this.form.trip_day_id > 8 ? this.idToName(this.form.trip_day_id, 6) : this.form.trip_day_id;\n      this.ajaxData.basic.status = this.form.status ? 1 : 0;\n    },\n    //城市id转为名称\n    idTocity: function idTocity(city_id) {\n      var city_name = '';\n      var cityList = JSON.parse(localStorage.getItem('travelParams')).cityList;\n      cityList.forEach(function (c) {\n        if (c.value === city_id) city_name = c.label;\n      });\n      return city_name;\n    },\n    //类型转换\n    idToName: function idToName(d, type) {\n      var reverse = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      var res = '';\n      var paramsList = JSON.parse(localStorage.getItem('travelParams'));\n      var list = [];\n      if (type === 3) list = paramsList.SecurityList;\n      if (type === 4) list = paramsList.TrafficList;\n      if (type === 5) list = paramsList.ThemeList;\n      if (type === 6) list = paramsList.TripList;\n      list.forEach(function (s) {\n        if (reverse) {\n          if (s.label === d) res = s.value;\n        } else {\n          if (s.value === d) res = s.label;\n        }\n      });\n      return res;\n    },\n    //初始化常量类型列表\n    initparams: function initparams() {\n      var that = this;\n      this.api.getCategorys().then(function (res) {\n        if (res.code == '200') {\n          var categorys = res.data;\n          that.api.getCategoryCons().then(function (v) {\n            if (v.code == '200') {\n              var categoryCons = v.data;\n              var params = {\n                cityList: [],\n                SecurityList: [],\n                securityList: [],\n                ThemeList: [],\n                themeList: [],\n                TrafficList: [],\n                trafficList: [],\n                TripList: [],\n                tripList: []\n              };\n              categorys.forEach(function (c) {\n                categoryCons.forEach(function (cc) {\n                  var t = {\n                    value: cc.id,\n                    label: cc.name\n                  };\n\n                  if (c.id === 3 && c.id === cc.category_id) {\n                    params.SecurityList.push(t);\n                    params.securityList.push(cc.name);\n                  }\n\n                  if (c.id === 4 && c.id === cc.category_id) {\n                    params.TrafficList.push(t);\n                    params.trafficList.push(cc.name);\n                  }\n\n                  if (c.id === 5 && c.id === cc.category_id) {\n                    params.ThemeList.push(t);\n                    params.themeList.push(cc.name);\n                  }\n\n                  if (c.id === 6 && c.id === cc.category_id) {\n                    params.TripList.push(t);\n                    params.tripList.push(cc.name);\n                  }\n                });\n              });\n              that.api.getAllCities().then(function (city) {\n                if (res.code == '200') {\n                  params.cityList = that.initCity(city.data);\n                  that.travelParams = params;\n                  localStorage.setItem('travelParams', JSON.stringify(params));\n                }\n              });\n            }\n          });\n        }\n      });\n    },\n    //初始化城市列表\n    initCity: function initCity(cityList) {\n      var cl = [];\n      cityList.forEach(function (c) {\n        var t = {\n          value: c.id,\n          label: c.city\n        };\n        cl.push(t);\n      });\n      return cl;\n    },\n    //日期格式转换\n    dateFormat: function dateFormat(date, fmt) {\n      var ret;\n      date = new Date(date);\n      var opt = {\n        'y+': date.getFullYear().toString(),\n        // 年\n        'M+': (date.getMonth() + 1).toString(),\n        // 月\n        'd+': date.getDate().toString() // 日\n        // 有其他格式化字符需求可以继续添加，必须转化成字符串\n\n      };\n\n      for (var k in opt) {\n        ret = new RegExp('(' + k + ')').exec(fmt);\n\n        if (ret) {\n          fmt = fmt.replace(ret[1], ret[1].length == 1 ? opt[k] : opt[k].padStart(ret[1].length, '0'));\n        }\n\n        ;\n      }\n\n      ;\n      return fmt;\n    },\n    //数组去重\n    uniArr: function uniArr(arr) {\n      var obj = {};\n      var new_arr = arr.reduce(function (prev, element) {\n        if (!prev.find(function (el) {\n          return el.category_con_id == element.category_con_id;\n        })) {\n          prev.push(element);\n        }\n\n        return prev;\n      }, []);\n      return new_arr;\n    },\n    //上传图像成功\n    handleAvatarSuccess: function handleAvatarSuccess(res, file) {\n      if (res.code == '200') {\n        this.ajaxData.basic.avatar = res.data;\n        this.form.avatar = this.base_api_url + res.data;\n      } //this.imageUrl = URL.createObjectURL(file.raw);\n      //console.log(this.imageUrl)\n\n    },\n    //上传图像之前图片类型和大小检验\n    beforeAvatarUpload: function beforeAvatarUpload(file) {\n      // const isJPG = file.type === 'image/jpeg';\n      // const isLt2M = file.size / 1024 / 1024 < 2;\n      // if (!isJPG) {\n      // this.$message.error('上传头像图片只能是 JPG 格式!');\n      // }\n      // if (!isLt2M) {\n      // this.$message.error('上传头像图片大小不能超过 2MB!');\n      // }\n      // return isJPG && isLt2M;\n      return true;\n    },\n    // 触发搜索按钮\n    handleSearch: function handleSearch() {\n      this.$set(this.query, 'pageIndex', 1);\n      this.getData();\n    },\n    // 删除操作\n    handleDelete: function handleDelete(index, row) {\n      var _this4 = this;\n\n      var that = this; // 二次确认删除\n\n      this.$confirm('确定要删除吗？', '提示', {\n        type: 'warning'\n      }).then(function () {\n        _this4.load_over = false;\n\n        _this4.api.deleteTP({\n          id: row.id\n        }).then(function (res) {\n          if (res.code == '200') {\n            that.$message.success('删除成功');\n            that.tableData.splice(index, 1);\n            that.load_over = true;\n          }\n        });\n      }).catch(function () {});\n    },\n    // 多选操作\n    handleSelectionChange: function handleSelectionChange(val) {\n      var del_ids = val.map(function (item) {\n        return item.id;\n      });\n      this.multipleSelection = del_ids.join(\",\"); //this.multipleSelection = val;\n    },\n    delAllSelection: function delAllSelection() {\n      var _this5 = this;\n\n      var del_ids = this.multipleSelection;\n      var that = this; // 二次确认删除\n\n      this.$confirm('确定要删除吗？', '提示', {\n        type: 'warning'\n      }).then(function () {\n        //this.load_over = false;\n        console.log(del_ids);\n\n        _this5.api.deleteTPs({\n          ids: del_ids\n        }).then(function (res) {\n          if (res.code == '200') {\n            that.$message.success('删除成功');\n            that.getData(); //that.tableData.splice(index, 1);\n            //that.load_over = true;\n          }\n        });\n      }).catch(function () {}); // const length = this.multipleSelection.length;\n      // let str = '';\n      // this.delList = this.delList.concat(this.multipleSelection);\n      // for (let i = 0; i < length; i++) {\n      //     str += this.multipleSelection[i].name + ' ';\n      // }\n      // this.$message.error(`删除了${str}`);\n\n      this.multipleSelection = \"\";\n    },\n    //新增\n    handleAdd: function handleAdd() {\n      this.handleName = '添加产品';\n      this.form = {};\n      this.securityList = [];\n      this.trafficList = [];\n      this.themeList = [];\n      this.detailImgList = [];\n      this.editVisible = true;\n    },\n    // 编辑操作\n    handleEdit: function handleEdit(index, row) {\n      this.handleName = '编辑产品';\n      this.idx = index;\n      this.form = row;\n      this.securityList = row.securityList;\n      this.trafficList = row.trafficList;\n      this.themeList = row.themeList;\n      this.detailImgList = row.imgList.map(function (t, i) {\n        return {\n          name: i + '.' + t.split('.')[1],\n          url: t\n        };\n      });\n      this.editVisible = true;\n    },\n    // 保存编辑\n    saveEdit: function saveEdit() {\n      var that = this;\n      this.editVisible = false;\n      this.getParams();\n      console.log(this.ajaxData);\n      if (this.handleName == '添加产品') this.api.addTP({\n        'product': this.ajaxData.basic,\n        'paramsList': this.ajaxData.paramList,\n        'imageList': this.ajaxData.imgList\n      }).then(function (res) {\n        that.getData();\n      });else {\n        this.editParam(); //console.log(this.ajaxData)\n\n        this.api.updateTP({\n          'product': this.ajaxData.basic,\n          'paramsList': this.ajaxData.paramList,\n          'imageList': this.ajaxData.imgList\n        }).then(function (res) {\n          that.getData();\n        });\n      } //this.$message.success(`修改第 ${this.idx + 1} 行成功`);\n      //this.$set(this.tableData, this.idx, this.form);\n    },\n    // 分页导航\n    handlePageChange: function handlePageChange(val) {\n      this.$set(this.query, 'pageIndex', val);\n      this.getData();\n    }\n  }\n};",{"version":3,"sources":["TravelProducts.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"crumbs\">\r\n            <el-breadcrumb separator=\"/\">\r\n                <el-breadcrumb-item>\r\n                    <i class=\"el-icon-lx-cascades\"></i> 产品列表\r\n                </el-breadcrumb-item>\r\n            </el-breadcrumb>\r\n        </div>\r\n\r\n        <div class=\"container\">\r\n\r\n            <div class=\"handle-box\">\r\n\r\n\r\n                <el-select v-model=\"show_state\" placeholder=\"显示全部\" class=\"handle-select mr10\" @change=\"getShowState\">\r\n                    <el-option key=\"1\" label=\"显示全部\" value=\"-1\"></el-option>\r\n                    <el-option key=\"2\" label=\"上架中\" value=\"1\"></el-option>\r\n                    <el-option key=\"3\" label=\"已下架\" value=\"0\"></el-option>\r\n                </el-select>\r\n\r\n                <el-input placeholder=\"请输入内容\" v-model=\"search_key_word\" @input=\"get_key\"  class=\"input-with-select\" clearable>\r\n                    <el-select style=\"width: 110px;\" v-model=\"searchType\" slot=\"prepend\" placeholder=\"产品编号\" @change=\"getSearchType\">\r\n                        <el-option label=\"产品编号\" value=\"1\"></el-option>\r\n                        <el-option label=\"产品名称\" value=\"2\"></el-option>\r\n                        <el-option label=\"供应商\" value=\"3\"></el-option>\r\n                    </el-select>\r\n                    <el-button slot=\"append\" icon=\"el-icon-search\" @click=\"getData\"></el-button>\r\n                </el-input>\r\n\r\n\r\n            </div>\r\n            <el-table\r\n                    :data=\"tableData\"\r\n                    v-loading=\"!load_over\"\r\n                    border\r\n                    class=\"table\"\r\n                    ref=\"multipleTable\"\r\n                    header-cell-class-name=\"table-header\"\r\n                    @selection-change=\"handleSelectionChange\"\r\n            >\r\n                <el-table-column type=\"selection\" width=\"60\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"pro_number\" label=\"产品编号\" width=\"120\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"title\" label=\"产品名称\" width=\"160\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"sales_volume\" label=\"销量\" width=\"90\" align=\"center\"></el-table-column>\r\n                <el-table-column prop=\"eva_score\" label=\"评分\" width=\"60\" align=\"center\"></el-table-column>\r\n                <el-table-column label=\"封面图\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-image\r\n                                style=\"width: 70px; height: 70px\"\r\n                                class=\"table-td-thumb\"\r\n                                :src=\"scope.row.avatar\"\r\n                                :preview-src-list=\"[scope.row.avatar]\"\r\n                        ></el-image>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"provider\" label=\"供应商\" width=\"120\" align=\"center\"></el-table-column>\r\n                <el-table-column label=\"服务保障\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div v-for=\"item in scope.row.securityList\" :key=\"item\">{{item}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"trip_days\" label=\"行程天数\" width=\"90\" align=\"center\"></el-table-column>\r\n                <el-table-column label=\"详情图片\" width=\"240\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                    <el-carousel :interval=\"4000\" type=\"card\" height=\"70px\" indicator-position=\"none\">\r\n                        <el-carousel-item v-for=\"(img,i) in scope.row.imgList\" :key=\"i\">\r\n                            <el-image\r\n                                    style=\"width: 120px; height: 70px\"\r\n                                    class=\"table-td-thumb\"\r\n                                    :src=\"img\"\r\n                            ></el-image>\r\n                        </el-carousel-item>\r\n                    </el-carousel>\r\n                </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"游玩主题\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div v-for=\"item in scope.row.themeList\" :key=\"item\">{{item}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"交通类型\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div v-for=\"item in scope.row.trafficList\" :key=\"item\">{{item}}</div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"address\" width=\"120\" label=\"出发地/目的地\" align=\"center\">\r\n                    <template slot-scope=\"scope\">{{scope.row.start_city}}/{{scope.row.end_city}}</template>\r\n                </el-table-column>\r\n                <el-table-column label=\"价格\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <div>￥{{scope.row.adult_price}}/成人</div>\r\n                        <div>￥{{scope.row.child_price}}/儿童</div>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"有效日期\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        {{scope.row.start_time}}\r\n                        <br>\r\n                        至\r\n                        <br>\r\n                        {{scope.row.end_time}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column prop=\"status\" width=\"120\" label=\"状态\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n                        <el-tag\r\n                                :type=\"scope.row.status?'success':'danger'\"\r\n                        >{{scope.row.status?'上架中':'已下架'}}\r\n                        </el-tag>\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column fixed=\"right\" label=\"操作\" width=\"120\" align=\"center\">\r\n                    <template slot-scope=\"scope\">\r\n\r\n                        <el-button\r\n                                :type=\"scope.row.status?'danger':'primary'\"\r\n                                @click=\"handleDelete(scope.$index, scope.row)\"\r\n                        >{{scope.row.status?'强制下架':'上架'}}\r\n                        </el-button>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n            <div class=\"pagination\">\r\n                <el-pagination\r\n                        background\r\n                        layout=\"total, prev, pager, next\"\r\n                        :current-page=\"query.pageIndex\"\r\n                        :page-size=\"query.pageSize\"\r\n                        :total=\"pageTotal\"\r\n                        @current-change=\"handlePageChange\"\r\n                ></el-pagination>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- 编辑弹出框 -->\r\n        <el-dialog :title=\"handleName\" :visible.sync=\"editVisible\" width=\"40%\">\r\n            <el-form ref=\"form\" :model=\"form\" label-width=\"70px\">\r\n                <el-form-item label=\"产品编号\">\r\n                    <el-input v-model=\"form.pro_number\" @change=\"getProNumber\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"产品名称\">\r\n                    <el-input v-model=\"form.title\" @change=\"getProTitle\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"供应商\">\r\n                    <el-input v-model=\"form.provider\" @change=\"getProvider\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"封面图\">\r\n                    <el-upload\r\n                            class=\"avatar-uploader\"\r\n                            :action=\"uploadImgUrl\"\r\n                            :show-file-list=\"false\"\r\n                            :on-success=\"handleAvatarSuccess\"\r\n                            :before-upload=\"beforeAvatarUpload\">\r\n                        <img v-if=\"form.avatar\" :src=\"form.avatar\" class=\"avatar\">\r\n                        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n                    </el-upload>\r\n                </el-form-item>\r\n                <el-form-item label=\"出发地\">\r\n                    <template>\r\n                        <el-select v-model=\"form.start_city_id\" filterable placeholder=\"请选择\" @change=\"getStartCity\">\r\n                            <el-option\r\n                                    v-for=\"item in travelParams.cityList\"\r\n                                    :key=\"item.value\"\r\n                                    :label=\"item.label\"\r\n                                    :value=\"item.value\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"目的地\">\r\n                    <template>\r\n                        <el-select v-model=\"form.end_city_id\" filterable placeholder=\"请选择\" @change=\"getEndCity\">\r\n                            <el-option\r\n                                    v-for=\"item in travelParams.cityList\"\r\n                                    :key=\"item.value\"\r\n                                    :label=\"item.label\"\r\n                                    :value=\"item.value\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"成人价\">\r\n                    <el-input v-model=\"form.adult_price\" size=\"medium\" @change=\"getAdultPrice\"\r\n                              placeholder=\"\" suffix-icon=\"el-icon-lx-recharge\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"儿童价\">\r\n                    <el-input v-model=\"form.child_price\" suffix-icon=\"el-icon-lx-recharge\"\r\n                              size=\"medium\" @change=\"getChildPrice\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"详情图片\">\r\n                    <el-upload\r\n                            :action=\"uploadImgUrl\"\r\n                            list-type=\"picture-card\"\r\n                            multiple\r\n                            :file-list=\"detailImgList\"\r\n                            :on-success=\"handlePictureSuccess\"\r\n                            :on-preview=\"handlePictureCardPreview\"\r\n                            :on-remove=\"handleRemove\">\r\n                        <i class=\"el-icon-plus\"></i>\r\n                    </el-upload>\r\n                    <el-dialog :visible.sync=\"dialogVisible\">\r\n                        <img width=\"100%\" :src=\"dialogImageUrl\" alt=\"\">\r\n                    </el-dialog>\r\n                </el-form-item>\r\n                <el-form-item label=\"服务保障\">\r\n                    <template>\r\n                        <el-checkbox-group v-model=\"securityList\" size=\"small\">\r\n                            <el-checkbox-button v-for=\"(s,i) in travelParams.securityList\" :label=\"s\" :key=\"i\">{{s}}\r\n                            </el-checkbox-button>\r\n                        </el-checkbox-group>\r\n                    </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"产品主题\">\r\n                    <template>\r\n                        <el-checkbox-group v-model=\"themeList\" size=\"small\">\r\n                            <el-checkbox-button v-for=\"(s,i) in travelParams.themeList\" :label=\"s\" :key=\"i\">{{s}}\r\n                            </el-checkbox-button>\r\n                        </el-checkbox-group>\r\n                    </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"交通方式\">\r\n                    <template>\r\n                        <el-checkbox-group v-model=\"trafficList\" size=\"small\">\r\n                            <el-checkbox-button v-for=\"(s,i) in travelParams.trafficList\" :label=\"s\" :key=\"i\">{{s}}\r\n                            </el-checkbox-button>\r\n                        </el-checkbox-group>\r\n                    </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"行程天数\">\r\n                    <template>\r\n                        <el-select v-model=\"form.trip_day_id\" filterable placeholder=\"请选择\" @change=\"getTripDay\">\r\n                            <el-option\r\n                                    v-for=\"item in travelParams.TripList\"\r\n                                    :key=\"item.value\"\r\n                                    :label=\"item.label\"\r\n                                    :value=\"item.value\">\r\n                            </el-option>\r\n                        </el-select>\r\n                    </template>\r\n                </el-form-item>\r\n                <el-form-item label=\"有效日期\">\r\n                    <el-date-picker\r\n                            v-model=\"form.dateArr\"\r\n                            type=\"daterange\"\r\n                            range-separator=\"至\"\r\n                            start-placeholder=\"开始日期\"\r\n                            end-placeholder=\"结束日期\"\r\n                            value-format=\"yyyy-MM-dd\"\r\n                            @change=\"getDate\">\r\n                    </el-date-picker>\r\n                </el-form-item>\r\n                <el-form-item label=\"产品状态\">\r\n                    <el-switch\r\n                            v-model=\"form.status\"\r\n                            active-text=\"上架\"\r\n                            inactive-text=\"下架\"\r\n                            @change=\"getStatus\">\r\n                    </el-switch>\r\n                </el-form-item>\r\n            </el-form>\r\n            <span slot=\"footer\" class=\"dialog-footer\">\r\n                <el-button @click=\"editVisible = false\">取 消</el-button>\r\n                <el-button type=\"primary\" @click=\"saveEdit\">确 定</el-button>\r\n            </span>\r\n        </el-dialog>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: 'basetable',\r\n        data() {\r\n            return {\r\n                query: {\r\n                    pro_number: '',\r\n                    provider: '',\r\n                    title:\"\",\r\n                    status:\"\",\r\n                    pageIndex: 1,\r\n                    pageSize: 5\r\n                },\r\n                show_state: '',\r\n                searchType: \"\",\r\n                search_key_word: '',\r\n                tableData: [],\r\n                securityList: ['无购物'],\r\n                themeList: ['古镇水乡'],\r\n                trafficList: ['汽车'],\r\n                ajaxData: {\r\n                    basic: {},\r\n                    paramList: [],\r\n                    imgList: []\r\n                },\r\n                load_over: false,\r\n                handleName: '',\r\n                multipleSelection: [],\r\n                delList: [],\r\n                editVisible: false,\r\n                pageTotal: 0,\r\n                form: {},\r\n                idx: -1,\r\n                id: -1,\r\n                start_city: '',\r\n                end_city: '',\r\n                travelParams: {},\r\n                dialogImageUrl: '',\r\n                dialogVisible: false,\r\n                detailImgList: [],\r\n                uploadImgUrl: '',\r\n                imageUrl: ''\r\n            };\r\n        },\r\n        created() {\r\n            if (JSON.parse(localStorage.getItem('travelParams'))) {\r\n                this.travelParams = JSON.parse(localStorage.getItem('travelParams'));\r\n            } else {\r\n                this.initparams();\r\n            }\r\n            this.getData();\r\n            this.uploadImgUrl = this.base_api_url + 'web/uploadImg';\r\n        },\r\n        methods: {\r\n            getShowState(e) {\r\n                this.query.status = e\r\n                this.getData()\r\n            },\r\n            get_key(e){\r\n                console.log(e)\r\n                this.search_key_word = e\r\n            },\r\n            setKey() {\r\n                this.initQuery()\r\n                var e = this.searchType || 1\r\n                if(e == 1)\r\n                    this.query.pro_number = this.search_key_word\r\n                if(e == 2)\r\n                    this.query.title = this.search_key_word\r\n                if(e == 3)\r\n                    this.query.provider = this.search_key_word\r\n            },\r\n            initQuery(){\r\n                this.query.pro_number = \"\"\r\n                this.query.title = \"\"\r\n                this.query.provider = \"\"\r\n                \r\n            },\r\n            getData() {\r\n                this.setKey()\r\n                var that = this;\r\n                this.load_over = false;\r\n                this.api.getTravelProducts({\r\n                    pro_number:this.query.pro_number,\r\n                    title:this.query.title,\r\n                    provider:this.query.provider,\r\n                    status:this.query.status,\r\n                    pageNum:this.query.pageIndex,\r\n                    pageSize:this.query.pageSize\r\n                }).then(res => {\r\n                    if (res.code == '200') {\r\n                        var data = res.data;\r\n                        var tableData = {\r\n                            list: [],\r\n                            total: data.total\r\n                        };\r\n                        data.list.forEach(d => {\r\n                            d.product.imgList = d.imageList;\r\n                            d.product.paramsList = d.paramsList;\r\n                            tableData.list.push(d.product);\r\n                        });\r\n\r\n                        tableData.list.forEach(v => {\r\n                            v.avatar = that.base_api_url + v.avatar;\r\n                            v.start_city = that.idTocity(v.start_city_id);\r\n                            v.end_city = that.idTocity(v.end_city_id);\r\n                            v.start_time = that.dateFormat(v.start_time, 'yyyy-MM-dd');\r\n                            v.end_time = that.dateFormat(v.end_time, 'yyyy-MM-dd');\r\n                            var arr = [];\r\n                            arr.push(v.start_time);\r\n                            arr.push(v.end_time);\r\n                            v.dateArr = arr;\r\n                            v.trip_day_id = v.trip_days;\r\n                            v.trip_days = v.trip_days + '天' + (v.trip_days - 1) + '晚';\r\n                            v.status = v.status == 1 ? true : false;\r\n                            if (v.imgList.length > 0) {\r\n                                var imgs = [];\r\n                                v.imgList.forEach(img => {\r\n                                    imgs.push(that.base_api_url + img.url);\r\n                                });\r\n                                v.imgList = imgs;\r\n                            }\r\n                            var securityList = [];\r\n                            var themeList = [];\r\n                            var trafficList = [];\r\n                            if (v.paramsList.length > 0) {\r\n                                v.paramsList.forEach(p => {\r\n                                    if (p.category_id === 3)\r\n                                        securityList.push(that.idToName(p.category_con_id, 3));\r\n                                    if (p.category_id === 4)\r\n                                        trafficList.push(that.idToName(p.category_con_id, 4));\r\n                                    if (p.category_id === 5)\r\n                                        themeList.push(that.idToName(p.category_con_id, 5));\r\n                                });\r\n                            }\r\n                            v.securityList = securityList;\r\n                            v.trafficList = trafficList;\r\n                            v.themeList = themeList;\r\n                        });\r\n                        this.tableData = tableData.list;\r\n                        console.log(tableData.list);\r\n                        this.pageTotal = tableData.total || 0;\r\n                        this.load_over = true;\r\n                    }\r\n                });\r\n            },\r\n            //获取产品编号\r\n            getProNumber(e) {\r\n                this.ajaxData.basic.pro_number = e;\r\n            },\r\n            //获取产品名称\r\n            getProTitle(e) {\r\n                this.ajaxData.basic.title = e;\r\n            },\r\n            //获取产品提供商\r\n            getProvider(e) {\r\n                this.ajaxData.basic.provider = e;\r\n            },\r\n            //获取出发地id\r\n            getStartCity(e) {\r\n                this.ajaxData.basic.start_city_id = e;\r\n            },\r\n            //获取目的地id\r\n            getEndCity(e) {\r\n                this.ajaxData.basic.end_city_id = e;\r\n            },\r\n            //获取成人价格\r\n            getAdultPrice(e) {\r\n                this.ajaxData.basic.adult_price = e;\r\n            },\r\n            //获取成人价格\r\n            getChildPrice(e) {\r\n                this.ajaxData.basic.child_price = e;\r\n            },\r\n            //获取产品的服务保障，交通类型，游玩主题等\r\n            getParams() {\r\n                this.ajaxData.paramList = [];\r\n                var arr1 = this.securityList.map(item => {\r\n                    return { category_id: 3, category_con_id: this.idToName(item, 3, true) };\r\n                });\r\n                var arr2 = this.trafficList.map(item => {\r\n                    return { category_id: 4, category_con_id: this.idToName(item, 4, true) };\r\n                });\r\n                var arr3 = this.themeList.map(item => {\r\n                    return { category_id: 5, category_con_id: this.idToName(item, 5, true) };\r\n                });\r\n                this.ajaxData.paramList = this.ajaxData.paramList.concat(arr1, arr2, arr3);\r\n            },\r\n\r\n            //获取行程天数\r\n            getTripDay(e) {\r\n                this.ajaxData.basic.trip_days = this.idToName(e, 6);\r\n            },\r\n            //获取有效日期\r\n            getDate(e) {\r\n                this.ajaxData.basic.start_time = e[0];\r\n                this.ajaxData.basic.end_time = e[1];\r\n            },\r\n            //获取产品状态\r\n            getStatus(e) {\r\n                this.ajaxData.basic.status = e ? 1 : 0;\r\n            },\r\n            handlePictureSuccess(response, file, fileList) {\r\n                this.handleImgList(fileList);\r\n            },\r\n            handleRemove(file, fileList) {\r\n                this.handleImgList(fileList);\r\n            },\r\n            handlePictureCardPreview(file) {\r\n                this.dialogImageUrl = file.url;\r\n                this.dialogVisible = true;\r\n            },\r\n            //图片处理\r\n            handleImgList(fileList) {\r\n                var imgList = [];\r\n                var ajaxImgList = [];\r\n                fileList.forEach(i => {\r\n                    if (i.response.code == '200') {\r\n                        imgList.push(this.base_api_url + i.response.data);\r\n                        ajaxImgList.push({\r\n                            url: i.response.data\r\n                        });\r\n                    }\r\n                });\r\n                this.form.imgList = imgList;\r\n                this.ajaxData.imgList = ajaxImgList;\r\n            },\r\n            //参数处理\r\n            editParam() {\r\n                this.ajaxData.basic.id = this.form.id;\r\n                this.ajaxData.basic.pro_number = this.form.pro_number;\r\n                this.ajaxData.basic.title = this.form.title;\r\n                this.ajaxData.basic.provider = this.form.provider;\r\n                this.ajaxData.basic.avatar = this.form.avatar.replace(this.base_api_url, '');\r\n                this.ajaxData.basic.start_city_id = this.form.start_city_id;\r\n                this.ajaxData.basic.end_city_id = this.form.end_city_id;\r\n                this.ajaxData.basic.start_time = this.form.dateArr[0];\r\n                this.ajaxData.basic.end_time = this.form.dateArr[1];\r\n                this.ajaxData.basic.adult_price = this.form.adult_price;\r\n                this.ajaxData.basic.child_price = this.form.child_price;\r\n                this.ajaxData.basic.trip_days = this.form.trip_day_id > 8 ? this.idToName(this.form.trip_day_id, 6) : this.form.trip_day_id;\r\n                this.ajaxData.basic.status = this.form.status ? 1 : 0;\r\n            },\r\n            //城市id转为名称\r\n            idTocity(city_id) {\r\n                var city_name = '';\r\n                var cityList = JSON.parse(localStorage.getItem('travelParams')).cityList;\r\n                cityList.forEach(c => {\r\n                    if (c.value === city_id)\r\n                        city_name = c.label;\r\n                });\r\n                return city_name;\r\n            },\r\n            //类型转换\r\n            idToName(d, type, reverse = false) {\r\n                var res = '';\r\n                var paramsList = JSON.parse(localStorage.getItem('travelParams'));\r\n                var list = [];\r\n                if (type === 3)\r\n                    list = paramsList.SecurityList;\r\n                if (type === 4)\r\n                    list = paramsList.TrafficList;\r\n                if (type === 5)\r\n                    list = paramsList.ThemeList;\r\n                if (type === 6)\r\n                    list = paramsList.TripList;\r\n\r\n                list.forEach(s => {\r\n                    if (reverse) {\r\n                        if (s.label === d)\r\n                            res = s.value;\r\n                    } else {\r\n                        if (s.value === d)\r\n                            res = s.label;\r\n                    }\r\n\r\n                });\r\n                return res;\r\n\r\n            },\r\n            //初始化常量类型列表\r\n            initparams() {\r\n                var that = this;\r\n                this.api.getCategorys().then(res => {\r\n                    if (res.code == '200') {\r\n                        var categorys = res.data;\r\n                        that.api.getCategoryCons().then(v => {\r\n                            if (v.code == '200') {\r\n                                var categoryCons = v.data;\r\n                                var params = {\r\n                                    cityList: [],\r\n                                    SecurityList: [],\r\n                                    securityList: [],\r\n                                    ThemeList: [],\r\n                                    themeList: [],\r\n                                    TrafficList: [],\r\n                                    trafficList: [],\r\n                                    TripList: [],\r\n                                    tripList: []\r\n                                };\r\n                                categorys.forEach(c => {\r\n                                    categoryCons.forEach(cc => {\r\n                                        var t = {\r\n                                            value: cc.id,\r\n                                            label: cc.name\r\n                                        };\r\n                                        if (c.id === 3 && c.id === cc.category_id) {\r\n                                            params.SecurityList.push(t);\r\n                                            params.securityList.push(cc.name);\r\n                                        }\r\n                                        if (c.id === 4 && c.id === cc.category_id) {\r\n                                            params.TrafficList.push(t);\r\n                                            params.trafficList.push(cc.name);\r\n                                        }\r\n                                        if (c.id === 5 && c.id === cc.category_id) {\r\n                                            params.ThemeList.push(t);\r\n                                            params.themeList.push(cc.name);\r\n                                        }\r\n                                        if (c.id === 6 && c.id === cc.category_id) {\r\n                                            params.TripList.push(t);\r\n                                            params.tripList.push(cc.name);\r\n                                        }\r\n                                    });\r\n                                });\r\n                                that.api.getAllCities().then(city => {\r\n                                    if (res.code == '200') {\r\n                                        params.cityList = that.initCity(city.data);\r\n                                        that.travelParams = params;\r\n                                        localStorage.setItem('travelParams', JSON.stringify(params));\r\n                                    }\r\n\r\n                                });\r\n                            }\r\n\r\n                        });\r\n                    }\r\n                });\r\n\r\n            },\r\n            //初始化城市列表\r\n            initCity(cityList) {\r\n                var cl = [];\r\n                cityList.forEach(c => {\r\n                    var t = {\r\n                        value: c.id,\r\n                        label: c.city\r\n                    };\r\n                    cl.push(t);\r\n                });\r\n                return cl;\r\n            },\r\n            //日期格式转换\r\n            dateFormat(date, fmt) {\r\n                let ret;\r\n                date = new Date(date);\r\n                const opt = {\r\n                    'y+': date.getFullYear().toString(),        // 年\r\n                    'M+': (date.getMonth() + 1).toString(),     // 月\r\n                    'd+': date.getDate().toString()            // 日\r\n                    // 有其他格式化字符需求可以继续添加，必须转化成字符串\r\n                };\r\n                for (let k in opt) {\r\n                    ret = new RegExp('(' + k + ')').exec(fmt);\r\n                    if (ret) {\r\n                        fmt = fmt.replace(ret[1], (ret[1].length == 1) ? (opt[k]) : (opt[k].padStart(ret[1].length, '0')));\r\n                    }\r\n                    ;\r\n                }\r\n                ;\r\n                return fmt;\r\n            },\r\n            //数组去重\r\n            uniArr(arr) {\r\n                var obj = {};\r\n                var new_arr = arr.reduce(function(prev, element) {\r\n                    if (!prev.find(el => el.category_con_id == element.category_con_id)) {\r\n                        prev.push(element);\r\n                    }\r\n                    return prev;\r\n                }, []);\r\n                return new_arr;\r\n            },\r\n            //上传图像成功\r\n            handleAvatarSuccess(res, file) {\r\n                if (res.code == '200') {\r\n                    this.ajaxData.basic.avatar = res.data;\r\n                    this.form.avatar = this.base_api_url + res.data;\r\n                }\r\n                //this.imageUrl = URL.createObjectURL(file.raw);\r\n                //console.log(this.imageUrl)\r\n            },\r\n            //上传图像之前图片类型和大小检验\r\n            beforeAvatarUpload(file) {\r\n                // const isJPG = file.type === 'image/jpeg';\r\n                // const isLt2M = file.size / 1024 / 1024 < 2;\r\n                // if (!isJPG) {\r\n                // this.$message.error('上传头像图片只能是 JPG 格式!');\r\n                // }\r\n                // if (!isLt2M) {\r\n                // this.$message.error('上传头像图片大小不能超过 2MB!');\r\n                // }\r\n                // return isJPG && isLt2M;\r\n                return true;\r\n            },\r\n            // 触发搜索按钮\r\n            handleSearch() {\r\n                this.$set(this.query, 'pageIndex', 1);\r\n                this.getData();\r\n            },\r\n            // 删除操作\r\n            handleDelete(index, row) {\r\n                var that = this;\r\n                // 二次确认删除\r\n                this.$confirm('确定要删除吗？', '提示', {\r\n                    type: 'warning'\r\n                })\r\n                    .then(() => {\r\n                        this.load_over = false;\r\n                        this.api.deleteTP({ id: row.id }).then(res => {\r\n                            if (res.code == '200') {\r\n                                that.$message.success('删除成功');\r\n                                that.tableData.splice(index, 1);\r\n                                that.load_over = true;\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(() => {\r\n                    });\r\n            },\r\n            // 多选操作\r\n            handleSelectionChange(val) {\r\n                var del_ids = val.map(item=>{\r\n                    return item.id\r\n                })\r\n                this.multipleSelection = del_ids.join(\",\")\r\n                //this.multipleSelection = val;\r\n            },\r\n            delAllSelection() {\r\n                var del_ids = this.multipleSelection\r\n                var that = this;\r\n                // 二次确认删除\r\n                this.$confirm('确定要删除吗？', '提示', {\r\n                    type: 'warning'\r\n                })\r\n                    .then(() => {\r\n                        //this.load_over = false;\r\n                        console.log(del_ids)\r\n                        this.api.deleteTPs({ ids:del_ids }).then(res => {\r\n                            if (res.code == '200') {\r\n                                that.$message.success('删除成功');\r\n                                that.getData()\r\n                                //that.tableData.splice(index, 1);\r\n                                //that.load_over = true;\r\n                            }\r\n                        });\r\n                    })\r\n                    .catch(() => {\r\n                    });\r\n                // const length = this.multipleSelection.length;\r\n                // let str = '';\r\n                // this.delList = this.delList.concat(this.multipleSelection);\r\n                // for (let i = 0; i < length; i++) {\r\n                //     str += this.multipleSelection[i].name + ' ';\r\n                // }\r\n                // this.$message.error(`删除了${str}`);\r\n                this.multipleSelection = \"\";\r\n            },\r\n            //新增\r\n            handleAdd() {\r\n                this.handleName = '添加产品';\r\n                this.form = {};\r\n                this.securityList = [];\r\n                this.trafficList = [];\r\n                this.themeList = [];\r\n                this.detailImgList = [];\r\n                this.editVisible = true;\r\n            },\r\n            // 编辑操作\r\n            handleEdit(index, row) {\r\n                this.handleName = '编辑产品';\r\n                this.idx = index;\r\n                this.form = row;\r\n                this.securityList = row.securityList;\r\n                this.trafficList = row.trafficList;\r\n                this.themeList = row.themeList;\r\n                this.detailImgList = row.imgList.map((t, i) => {\r\n                    return { name: i + '.' + t.split('.')[1], url: t };\r\n                });\r\n                this.editVisible = true;\r\n            },\r\n            // 保存编辑\r\n            saveEdit() {\r\n                var that = this;\r\n                this.editVisible = false;\r\n                this.getParams();\r\n                console.log(this.ajaxData);\r\n                if (this.handleName == '添加产品')\r\n                    this.api.addTP({\r\n                        'product': this.ajaxData.basic,\r\n                        'paramsList': this.ajaxData.paramList,\r\n                        'imageList': this.ajaxData.imgList\r\n                    }).then(res => {\r\n                        that.getData();\r\n                    });\r\n                else {\r\n                    this.editParam();\r\n                    //console.log(this.ajaxData)\r\n                    this.api.updateTP({\r\n                        'product': this.ajaxData.basic,\r\n                        'paramsList': this.ajaxData.paramList,\r\n                        'imageList': this.ajaxData.imgList\r\n                    }).then(res => {\r\n                        that.getData();\r\n                    });\r\n                }\r\n                //this.$message.success(`修改第 ${this.idx + 1} 行成功`);\r\n                //this.$set(this.tableData, this.idx, this.form);\r\n            },\r\n            // 分页导航\r\n            handlePageChange(val) {\r\n                this.$set(this.query, 'pageIndex', val);\r\n                this.getData();\r\n            }\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n    .el-select .el-input {\r\n        width: 130px;\r\n    }\r\n\r\n    .input-with-select .el-input-group__prepend {\r\n        background-color: #fff;\r\n    }\r\n\r\n    .el-input-group {\r\n        width: 40% !important;\r\n        margin-right: 15px !important;\r\n    }\r\n\r\n    .el-upload--text {\r\n        height: 100px !important;\r\n        width: 100px !important;\r\n    }\r\n\r\n    .handle-box {\r\n        margin-bottom: 20px;\r\n    }\r\n\r\n    .handle-select {\r\n        width: 120px;\r\n    }\r\n\r\n    .handle-input {\r\n        width: 300px;\r\n        display: inline-block;\r\n    }\r\n\r\n    .table {\r\n        width: 100%;\r\n        font-size: 14px;\r\n    }\r\n\r\n    .red {\r\n        color: #ff0000;\r\n    }\r\n\r\n    .mr10 {\r\n        margin-right: 10px;\r\n    }\r\n\r\n    .table-td-thumb {\r\n        display: block;\r\n        margin: auto;\r\n        width: 40px;\r\n        height: 40px;\r\n    }\r\n\r\n    .avatar-uploader .el-upload {\r\n        border: 1px dashed #d9d9d9;\r\n        border-radius: 6px;\r\n        cursor: pointer;\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .avatar-uploader .el-upload:hover {\r\n        border-color: #409EFF;\r\n    }\r\n\r\n    .avatar-uploader-icon {\r\n        font-size: 28px;\r\n        color: #8c939d;\r\n        width: 100px;\r\n        height: 100px;\r\n        line-height: 100px;\r\n        /* width: 178px;\r\n        height: 178px;\r\n        line-height: 178px; */\r\n        text-align: center;\r\n    }\r\n\r\n    .avatar {\r\n        width: 100px;\r\n        height: 100px;\r\n        /* width: 178px;\r\n        height: 178px; */\r\n        display: block;\r\n    }\r\n</style>\r\n"],"sourceRoot":"src/components/page"}]}