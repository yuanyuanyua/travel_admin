{"remainingRequest":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\babel-loader\\lib\\index.js!D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\Supplier.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\Supplier.vue","mtime":1615384169513},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  data: function data() {\n    return {\n      //value1:false,\n      //srcList:[require('../../assets/img/test1.jpg'),require('../../assets/img/test2.png'),require('../../assets/img/test4.png'),require('../../assets/img/test3.png')],\n      tableData: []\n    };\n  },\n  created: function created() {\n    this.userInfo = JSON.parse(localStorage.getItem('userInfo')); // 获取供应商信息\n\n    this.getSupplier();\n  },\n  methods: {\n    getSupplier: function getSupplier() {\n      var _this = this;\n\n      this.api.getSupplier().then(function (res) {\n        console.log(res);\n\n        if (res.code == \"200\") {\n          _this.$message.success(\"成功获取供应商\");\n\n          _this.tableData = res.data;\n        } else {\n          _this.$message.error(res.message);\n        }\n      });\n    },\n    stateChanged: function stateChanged(row) {\n      var _this2 = this;\n\n      this.api.stateChanged({\n        representIdcard: row.representIdcard,\n        state: row.state\n      }).then(function (res) {\n        console.log(res);\n\n        if (res.code != \"200\") {\n          tableData.representIdcard != tableData.representIdcard;\n\n          _this2.$message.error(res.message); //this.tableData = res.data\n\n        } else {\n          _this2.$message.success('成功修改状态');\n        }\n      });\n    } //     // this.api.stateChanged().then(res => {\n    //     //             console.log(res)\n    //     //             // var formData = new FormData();\n    //     //             // formData.append('state', tableData.state);\n    //     //             if(res.code==\"200\"){\n    //     //                 this.$message.success('操作成功');\n    //     //                 // this.load_over=true;\n    //     //                 // this.tableData = res.data.records;\n    //     //                 // this.pageTotal = res.data.total;\n    //     //             }else{\n    //     //                 this.$message.error(res.message);\n    //     //             }\n    //     //         })\n    //     // var formData = new FormData();\n    //     // // formData.append('id', userInfo.id);\n    //     // formData.append('state', tableData.state);\n    //     // const{data:res}= await this.$http.put('/userState', formData);\n    //     //     if(res!=\"success\"){\n    //     //         userInfo.id = !userInfo.id;\n    //     //         return this.$message.error(\"操作失败\");\n    //     //     }\n    //     //     this.$message.success(\"操作成功\");\n    // },\n\n  }\n};",{"version":3,"sources":["Supplier.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA;AACA;AACA,MAAA,SAAA,EAAA;AAHA,KAAA;AAKA,GAPA;AAQA,EAAA,OARA,qBAQA;AACA,SAAA,QAAA,GAAA,IAAA,CAAA,KAAA,CAAA,YAAA,CAAA,OAAA,CAAA,UAAA,CAAA,CAAA,CADA,CACA;;AACA,SAAA,WAAA;AACA,GAXA;AAYA,EAAA,OAAA,EAAA;AAEA,IAAA,WAFA,yBAEA;AAAA;;AACA,WAAA,GAAA,CAAA,WAAA,GAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,OAAA,CAAA,SAAA;;AACA,UAAA,KAAA,CAAA,SAAA,GAAA,GAAA,CAAA,IAAA;AACA,SAHA,MAGA;AACA,UAAA,KAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OARA;AASA,KAZA;AAaA,IAAA,YAbA,wBAaA,GAbA,EAaA;AAAA;;AACA,WAAA,GAAA,CAAA,YAAA,CAAA;AAAA,QAAA,eAAA,EAAA,GAAA,CAAA,eAAA;AAAA,QAAA,KAAA,EAAA,GAAA,CAAA;AAAA,OAAA,EAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,GAAA;;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,KAAA,EAAA;AACA,UAAA,SAAA,CAAA,eAAA,IAAA,SAAA,CAAA,eAAA;;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA,EAFA,CAIA;;AACA,SALA,MAKA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,OAAA,CAAA,QAAA;AACA;AACA,OAVA;AAWA,KAzBA,CA0BA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAjDA;AAZA,CAAA","sourcesContent":["<style scoped>\r\n.g-main{\r\n    background: white;\r\n    padding: 20px 10px;\r\n    border-radius:3px;\r\n}\r\n</style>\r\n<template>\r\n    <div class=\"g-main\">\r\n        <el-table :data=\"tableData\" >\r\n            <el-table-column prop=\"name\" label=\"单位名称\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"representName\" label=\"法人代表姓名\" align=\"center\" ></el-table-column>\r\n            <el-table-column prop=\"representPhone\" label=\"法人代表电话\" align=\"center\" width=\"110\"></el-table-column>\r\n            <el-table-column prop=\"representIdcard\" label=\"法人代表身份证号码\" align=\"center\" width=\"230\"></el-table-column>\r\n            <el-table-column label=\"法人身份证复印件\" prop=\"chargeImage\" align=\"center\" width=\"160\">\r\n                <template slot-scope=\"scope\">\r\n                        <el-image\r\n                                style=\"width: 70px; height: 70px\"\r\n                                class=\"table-td-thumb\"\r\n                                :src=\"scope.row.chargeImage\"\r\n                                \r\n                        ></el-image>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column  prop=\"state\" fixed=\"right\" label=\"账号状态\" align=\"center\" width=\"180\">\r\n                <!-- <el-switch v-model=\"value1\" active-text=\"正常\" inactive-text=\"已禁用\"></el-switch> -->\r\n                <template slot-scope=\"scope\"><!--数据模板-->\r\n                    <el-switch v-model=\"scope.row.state\"  @change=\"stateChanged(scope.row)\" active-text=\"正常\" inactive-text=\"禁用\"></el-switch>\r\n                </template> \r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            //value1:false,\r\n            //srcList:[require('../../assets/img/test1.jpg'),require('../../assets/img/test2.png'),require('../../assets/img/test4.png'),require('../../assets/img/test3.png')],\r\n            tableData:[],\r\n        }\r\n    },\r\n    created(){\r\n        this.userInfo = JSON.parse(localStorage.getItem('userInfo'));// 获取供应商信息\r\n        this.getSupplier();\r\n    },\r\n    methods:{\r\n        \r\n        getSupplier() {\r\n            this.api.getSupplier().then(res => {\r\n                console.log(res)\r\n                if(res.code==\"200\") {\r\n                    this.$message.success(\"成功获取供应商\")\r\n                    this.tableData = res.data\r\n                }else{\r\n                    this.$message.error(res.message)\r\n                }\r\n            })\r\n        },\r\n        stateChanged(row){\r\n            this.api.stateChanged({representIdcard:row.representIdcard,state:row.state}).then(res => {\r\n                        console.log(res)\r\n                        if(res.code!=\"200\"){\r\n                            tableData.representIdcard != tableData.representIdcard;\r\n                            this.$message.error(res.message);\r\n                            \r\n                            //this.tableData = res.data\r\n                        }else{\r\n                            this.$message.success('成功修改状态');\r\n                        }\r\n                    })\r\n        },\r\n        //     // this.api.stateChanged().then(res => {\r\n        //     //             console.log(res)\r\n        //     //             // var formData = new FormData();\r\n        //     //             // formData.append('state', tableData.state);\r\n        //     //             if(res.code==\"200\"){\r\n                            \r\n        //     //                 this.$message.success('操作成功');\r\n        //     //                 // this.load_over=true;\r\n        //     //                 // this.tableData = res.data.records;\r\n        //     //                 // this.pageTotal = res.data.total;\r\n        //     //             }else{\r\n        //     //                 this.$message.error(res.message);\r\n        //     //             }\r\n        //     //         })\r\n        //     // var formData = new FormData();\r\n        //     // // formData.append('id', userInfo.id);\r\n        //     // formData.append('state', tableData.state);\r\n        //     // const{data:res}= await this.$http.put('/userState', formData);\r\n        //     //     if(res!=\"success\"){\r\n        //     //         userInfo.id = !userInfo.id;\r\n        //     //         return this.$message.error(\"操作失败\");\r\n        //     //     }\r\n        //     //     this.$message.success(\"操作成功\");\r\n        // },\r\n    }\r\n}\r\n</script>"],"sourceRoot":"src/components/page"}]}