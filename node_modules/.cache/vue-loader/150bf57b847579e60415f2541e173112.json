{"remainingRequest":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\adminInfo.vue?vue&type=style&index=0&id=126bcea6&scoped=true&lang=css&","dependencies":[{"path":"D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\adminInfo.vue","mtime":1578548151589},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px solid #ccc;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.user-avator {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.user-info-cont {\r\n    padding-left: 50px;\r\n    flex: 1;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.user-info-cont div:first-child {\r\n    font-size: 30px;\r\n    color: #222;\r\n}\r\n\r\n.user-info-list {\r\n    font-size: 14px;\r\n    color: #999;\r\n    line-height: 25px;\r\n}\r\n\r\n.user-info-list span {\r\n    margin-left: 70px;\r\n}\r\n.mgb20 {\r\n    margin-bottom: 20px;\r\n}\r\n    .crop-demo-btn{\r\n        position: relative;\r\n        width: 100px;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        padding: 0 20px;\r\n        margin-left: 30px;\r\n        background-color: #409eff;\r\n        color: #fff;\r\n        font-size: 14px;\r\n        border-radius: 4px;\r\n        box-sizing: border-box;\r\n    }\r\n    .crop-input{\r\n        position: absolute;\r\n        width: 100px;\r\n        height: 40px;\r\n        left: 0;\r\n        top: 0;\r\n        opacity: 0;\r\n        cursor: pointer;\r\n    }\r\n",{"version":3,"sources":["adminInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoFA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"adminInfo.vue","sourceRoot":"src/components/page","sourcesContent":["<template>\r\n    <el-card shadow=\"hover\" class=\"mgb20\" style=\"height:252px;\">\r\n        <div class=\"user-info\">\r\n            <img :src=\"cropImg\" \r\n            class=\"user-avator\" alt />\r\n            <div class=\"crop-demo-btn\">更换图片\r\n                <input class=\"crop-input\" type=\"file\" name=\"image\" accept=\"image/*\" @change=\"setImage\"/>\r\n            </div>\r\n            <el-dialog title=\"裁剪图片\" :visible.sync=\"dialogVisible\" width=\"30%\">\r\n                <vue-cropper ref='cropper' :src=\"imgSrc\" :ready=\"cropImage\" :zoom=\"cropImage\" :cropmove=\"cropImage\" style=\"width:100%;height:300px;\"></vue-cropper>\r\n                <span slot=\"footer\" class=\"dialog-footer\">\r\n                    <el-button @click=\"cancelCrop\">取 消</el-button>\r\n                    <el-button type=\"primary\" @click=\"upAvatar\">确 定</el-button>\r\n                </span>\r\n            </el-dialog>\r\n            <div class=\"user-info-cont\">\r\n                <div class=\"user-info-name\">{{userInfo.nickname}}</div>\r\n                <div>超级管理员</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"user-info-list\">\r\n            上次登录时间：\r\n            <span>{{userInfo.last_login_time}}</span>\r\n        </div>\r\n    </el-card>\r\n</template>\r\n\r\n<script>\r\nimport VueCropper  from 'vue-cropperjs';\r\nexport default {\r\n    components: {\r\n        VueCropper\r\n    },\r\n    data(){\r\n        return {\r\n            userInfo : \"\",\r\n            imgSrc: '',\r\n            cropImg: \"\",\r\n            dialogVisible: false,\r\n        }\r\n    },\r\n    created(){\r\n        this.cropImg = this.userInfo.avatar == null?require('../../assets/img/img.jpg'):this.base_api_url +this.userInfo.avatar\r\n        this.userInfo = JSON.parse(localStorage.getItem('userInfo'))\r\n    },\r\n    methods:{\r\n        upAvatar(){\r\n            var that = this\r\n            this.dialogVisible = false\r\n            this.api.upAvatar({avatar:this.cropImg}).then(res => {\r\n                if(res.code==\"200\"){\r\n                    that.cropImg = that.base_api_url + res.data\r\n                    var userInfo =JSON.parse(localStorage.getItem(\"userInfo\")) \r\n                    userInfo.avatar = that.cropImg\r\n                    localStorage.setItem(\"userInfo\",JSON.stringify(userInfo))\r\n                }\r\n            })\r\n        },\r\n        setImage(e){\r\n            const file = e.target.files[0];\r\n            if (!file.type.includes('image/')) {\r\n                return;\r\n            }\r\n            const reader = new FileReader();\r\n            reader.onload = (event) => {\r\n                this.dialogVisible = true;\r\n                this.imgSrc = event.target.result;\r\n                this.$refs.cropper && this.$refs.cropper.replace(event.target.result);\r\n            };\r\n            reader.readAsDataURL(file);\r\n        },\r\n        cropImage () {\r\n            this.cropImg = this.$refs.cropper.getCroppedCanvas().toDataURL();\r\n        },\r\n        cancelCrop(){\r\n            this.dialogVisible = false;\r\n            this.cropImg = this.userInfo.avatar == null?require('../../assets/img/img.jpg'):this.base_api_url +this.userInfo.avatar;\r\n        },\r\n    }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.user-info {\r\n    display: flex;\r\n    align-items: center;\r\n    padding-bottom: 20px;\r\n    border-bottom: 2px solid #ccc;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.user-avator {\r\n    width: 120px;\r\n    height: 120px;\r\n    border-radius: 50%;\r\n}\r\n\r\n.user-info-cont {\r\n    padding-left: 50px;\r\n    flex: 1;\r\n    font-size: 14px;\r\n    color: #999;\r\n}\r\n\r\n.user-info-cont div:first-child {\r\n    font-size: 30px;\r\n    color: #222;\r\n}\r\n\r\n.user-info-list {\r\n    font-size: 14px;\r\n    color: #999;\r\n    line-height: 25px;\r\n}\r\n\r\n.user-info-list span {\r\n    margin-left: 70px;\r\n}\r\n.mgb20 {\r\n    margin-bottom: 20px;\r\n}\r\n    .crop-demo-btn{\r\n        position: relative;\r\n        width: 100px;\r\n        height: 40px;\r\n        line-height: 40px;\r\n        padding: 0 20px;\r\n        margin-left: 30px;\r\n        background-color: #409eff;\r\n        color: #fff;\r\n        font-size: 14px;\r\n        border-radius: 4px;\r\n        box-sizing: border-box;\r\n    }\r\n    .crop-input{\r\n        position: absolute;\r\n        width: 100px;\r\n        height: 40px;\r\n        left: 0;\r\n        top: 0;\r\n        opacity: 0;\r\n        cursor: pointer;\r\n    }\r\n</style>"]}]}