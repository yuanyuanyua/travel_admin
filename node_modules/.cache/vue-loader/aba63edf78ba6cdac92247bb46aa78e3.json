{"remainingRequest":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\Supplier.vue?vue&type=style&index=0&id=0757fb8c&scoped=true&lang=css&","dependencies":[{"path":"D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\Supplier.vue","mtime":1615532737141},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n.g-main{\r\n    background: white;\r\n    padding: 20px 10px;\r\n    border-radius:3px;\r\n}\r\n",{"version":3,"sources":["Supplier.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA","file":"Supplier.vue","sourceRoot":"src/components/page","sourcesContent":["<style scoped>\r\n.g-main{\r\n    background: white;\r\n    padding: 20px 10px;\r\n    border-radius:3px;\r\n}\r\n</style>\r\n<template>\r\n    <div class=\"g-main\">\r\n        <el-table :data=\"tableData\" >\r\n            <el-table-column prop=\"name\" label=\"单位名称\" align=\"center\"></el-table-column>\r\n            <el-table-column prop=\"representName\" label=\"法人代表姓名\" align=\"center\" ></el-table-column>\r\n            <el-table-column prop=\"representPhone\" label=\"法人代表电话\" align=\"center\" width=\"110\"></el-table-column>\r\n            <el-table-column prop=\"representIdcard\" label=\"法人代表身份证号码\" align=\"center\" width=\"230\"></el-table-column>\r\n            <el-table-column label=\"法人身份证复印件\" prop=\"chargeImage\" align=\"center\" width=\"160\">\r\n                <template slot-scope=\"scope\">\r\n                        <el-image\r\n                                style=\"width: 70px; height: 70px\"\r\n                                class=\"table-td-thumb\"\r\n                                :src=\"scope.row.chargeImage\"\r\n                                \r\n                        ></el-image>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column  prop=\"supplierState\" fixed=\"right\" label=\"账号状态\" align=\"center\" width=\"180\">\r\n                <!-- <el-switch v-model=\"value1\" active-text=\"正常\" inactive-text=\"已禁用\"></el-switch> -->\r\n                <template slot-scope=\"scope\">\r\n                    <el-switch  :active-value=1 :inactive-value=0 v-model=\"scope.row.supplierState\"  @change=\"stateChanged(scope.row)\" active-text=\"正常\"  inactive-text=\"禁用\" ></el-switch>\r\n                </template> \r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            //value1:false,\r\n            //srcList:[require('../../assets/img/test1.jpg'),require('../../assets/img/test2.png'),require('../../assets/img/test4.png'),require('../../assets/img/test3.png')],\r\n            tableData:[],\r\n            // query:{\r\n            //     name:'',\r\n            //     representName:'',\r\n            //     representPhone:'',\r\n            //     representIdcard:'',\r\n            //     chargeImage:'',\r\n            // }\r\n            // supplierId:'',\r\n            // supplierState:'',\r\n            \r\n        }\r\n    },\r\n    created(){\r\n        this.userInfo = JSON.parse(localStorage.getItem('userInfo'));// 获取供应商信息\r\n        this.getSupplier();\r\n    },\r\n    methods:{\r\n        \r\n        getSupplier() {\r\n            this.api.getSupplier().then(res => {\r\n                console.log(res)\r\n                if(res.code==\"200\") {\r\n                    this.$message.success(\"成功获取供应商\")\r\n                    this.tableData = res.data\r\n                }else{\r\n                    this.$message.error(res.message)\r\n                }\r\n            })\r\n        },\r\n        stateChanged(row){\r\n            // console.log(e)\r\n            this.api.stateChanged({supplierId:row.supplierId,supplierState:row.supplierState}).then(res => {\r\n                        console.log(res)\r\n                        if(res.code!=\"200\"){\r\n                            tableData.supplierId != tableData.supplierId;\r\n                            this.$message.error(res.message);\r\n                            \r\n                            \r\n                        }else{\r\n                            this.$message.success('成功修改状态');\r\n                            //this.tableData = res.data\r\n                        }\r\n                    })\r\n        },\r\n        //     // this.api.stateChanged().then(res => {\r\n        //     //             console.log(res)\r\n        //     //             // var formData = new FormData();\r\n        //     //             // formData.append('state', tableData.state);\r\n        //     //             if(res.code==\"200\"){\r\n                            \r\n        //     //                 this.$message.success('操作成功');\r\n        //     //                 // this.load_over=true;\r\n        //     //                 // this.tableData = res.data.records;\r\n        //     //                 // this.pageTotal = res.data.total;\r\n        //     //             }else{\r\n        //     //                 this.$message.error(res.message);\r\n        //     //             }\r\n        //     //         })\r\n        //     // var formData = new FormData();\r\n        //     // // formData.append('id', userInfo.id);\r\n        //     // formData.append('state', tableData.state);\r\n        //     // const{data:res}= await this.$http.put('/userState', formData);\r\n        //     //     if(res!=\"success\"){\r\n        //     //         userInfo.id = !userInfo.id;\r\n        //     //         return this.$message.error(\"操作失败\");\r\n        //     //     }\r\n        //     //     this.$message.success(\"操作成功\");\r\n        // },\r\n    }\r\n}\r\n</script>"]}]}