{"remainingRequest":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\Certification.vue?vue&type=style&index=0&id=769203ac&scoped=true&lang=css&","dependencies":[{"path":"D:\\QQ下载文件\\BT\\travel_manage\\src\\components\\page\\Certification.vue","mtime":1615536176558},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\css-loader\\index.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\QQ下载文件\\BT\\travel_manage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r\n.g-main{\r\n    background: white;\r\n    padding: 20px 10px;\r\n    border-radius:3px;\r\n}\r\n",{"version":3,"sources":["Certification.vue"],"names":[],"mappings":";AACA;AACA;AACA;AACA;AACA","file":"Certification.vue","sourceRoot":"src/components/page","sourcesContent":["<style scoped>\r\n.g-main{\r\n    background: white;\r\n    padding: 20px 10px;\r\n    border-radius:3px;\r\n}\r\n</style>\r\n<template>\r\n    <div class=\"g-main\">\r\n        <el-table  :data=\"userlist\" label-position=\"left\" label-width=\"170px\" >\r\n                    \r\n            <el-table-column prop=\"name\" label=\"单位名称\" align=\"center\" width=\"100\"></el-table-column>\r\n            <el-table-column prop=\"representName\" label=\"法人代表姓名\" align=\"center\" width=\"100\"></el-table-column>\r\n            <el-table-column prop=\"representPhone\" label=\"法人代表电话\" align=\"center\" width=\"110\"></el-table-column>\r\n            <el-table-column prop=\"representIdcard\" label=\"法人代表身份证号码\" align=\"center\" width=\"160\"></el-table-column>\r\n            <el-table-column prop=\"representImage\" label=\"法人身份证复印件\" align=\"center\" width=\"160\">\r\n                <!-- <template slot-scope=\"scope\">\r\n                    <el-image :src=\"scope.row.e\" :preview-src-list=\"srcList\"></el-image>\r\n                </template> -->\r\n                <template slot-scope=\"scope\">\r\n                        <el-image\r\n                                style=\"width: 70px; height: 70px\"\r\n                                class=\"table-td-thumb\"\r\n                                :src=\"scope.row.chargeImage\"\r\n                                \r\n                        ></el-image>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"chargeName\" label=\"负责人姓名\" align=\"center\" width=\"100\"></el-table-column>\r\n            <el-table-column prop=\"chargePhone\" label=\"负责人电话\" align=\"center\" width=\"100\"></el-table-column>\r\n            <!-- <el-table-column prop=\"h\" label=\"负责人授权书\" align=\"center\" width=\"160\">\r\n                <template v-slot=\"scope\">\r\n                    <el-image :src=\"scope.row.h\" :preview-src-list=\"srcList\"></el-image>\r\n                </template>\r\n            </el-table-column> -->\r\n            <!-- <el-table-column prop=\"i\" label=\"负责人身份证号码\" align=\"center\" width=\"160\"></el-table-column>-->\r\n            <el-table-column prop=\"chargeImage\" label=\"负责人身份证复印件\" align=\"center\" width=\"160\">\r\n                <template slot-scope=\"scope\">\r\n                        <el-image\r\n                                style=\"width: 70px; height: 70px\"\r\n                                class=\"table-td-thumb\"\r\n                                :src=\"scope.row.representImage\"\r\n                                \r\n                        ></el-image>\r\n                </template>\r\n            </el-table-column>\r\n            <!-- <el-table-column prop=\"k\" label=\"常用联系人姓名\" align=\"center\" width=\"110\"></el-table-column>\r\n            <el-table-column prop=\"l\" label=\"常用联系人电话\" align=\"center\" width=\"110\"></el-table-column>\r\n            <el-table-column prop=\"m\" label=\"常用联系人授权书\" align=\"center\" width=\"160\">\r\n                <template v-slot=\"scope\">\r\n                    <el-image :src=\"scope.row.m\" :preview-src-list=\"srcList\"></el-image>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"n\" label=\"常用联系人身份证复印件\" align=\"center\" width=\"160\">\r\n                <template v-slot=\"scope\">\r\n                    <el-image :src=\"scope.row.n\" :preview-src-list=\"srcList\"></el-image>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"o\" label=\"对外显示简称\" align=\"center\" width=\"110\"></el-table-column>-->\r\n            <el-table-column prop=\"licenseImage\" label=\"营业执照副本复印件\" align=\"center\" width=\"160\">\r\n                <template slot-scope=\"scope\">\r\n                        <el-image\r\n                                style=\"width: 70px; height: 70px\"\r\n                                class=\"table-td-thumb\"\r\n                                :src=\"scope.row.licenseImage\"\r\n                                \r\n                        ></el-image>\r\n                </template>\r\n            </el-table-column>\r\n            <el-table-column fixed=\"right\" label=\"操作\"  align=\"center\" width=\"130\">\r\n                <!-- <el-button type=\"text\" v-model=\"scope.row.state\" @change=\"handleCert\" size=\"small\" >审核</el-button> -->\r\n                    <template slot-scope=\"scope\"><!--数据模板-->\r\n                        <!-- <el-button  type=\"text\" v-model=\"scope.row.state\" @change=\"handleCert\" size=\"small\">已审核</el-button> -->\r\n                        <el-button v-if=\"scope.row.state == 2\" disabled type=\"text\" style=\"color:#67C23A\" icon=\"el-icon-s-release\" >已审核，通过</el-button>\r\n                        <el-button v-else-if=\"scope.row.state == 3\" disabled type=\"text\" style=\"color:#F56C6C\" icon=\"el-icon-s-release\" >已审核，不通过</el-button>\r\n                        <el-button v-if=\"scope.row.state == 1\"  type=\"text\" style=\"color:#E6A23C\" icon=\"el-icon-s-release\" @click=\"qualifyState(scope.row.id)\">通过</el-button>\r\n                        <el-button v-if=\"scope.row.state == 1\"  type=\"text\" style=\"color:#E6A23C\" icon=\"el-icon-s-release\" @click=\"qualifyState2(scope.row.id)\">不通过</el-button>\r\n                        <!-- <el-button v-if=\"scope.row.state == 0\" type=\"text\" style=\"color:#67C23A\" icon=\"el-icon-edit\" @change=\"handleCert\">待审核</el-button>\r\n                        <el-button v-else  type=\"text\" style=\"color:#909399\" icon=\"el-icon-s-release\">待审核</el-button> -->\r\n\r\n                    </template> \r\n            </el-table-column>\r\n        </el-table>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    created(){\r\n        this.userInfo = JSON.parse(localStorage.getItem('userInfo'));// 获取供应商信息\r\n        this.getQualification();\r\n\r\n    },\r\n    data: function () {\r\n        return {\r\n            userlist:[],\r\n            query:{\r\n                name:'',\r\n                representName:'',\r\n                representPhone:'',\r\n                representIdcard:'',\r\n                representImage:'',\r\n                chargeName:'',\r\n                chargePhone:'',\r\n                licenseImage:'',\r\n                state:'',\r\n            }\r\n        \r\n        };\r\n    },\r\n    // created() {\r\n    //     this.userInfo = JSON.parse(localStorage.getItem('userInfo'));// 获取供应商信息\r\n    //     this.uploadImgUrl = this.base_api_url + 'qualify/upload';\r\n    //     this.getQualification();\r\n    // },\r\n    methods:{\r\n        // 获取供应商审核材料\r\n        getQualification() {\r\n            this.api.getQualification().then(res => {\r\n                console.log(res)\r\n                if(res.code==\"200\") {\r\n                    this.$message.success(\"成功获取材料\")\r\n                    this.userlist = res.data\r\n                }else{\r\n                    this.$message.error(res.message)\r\n                }\r\n            })\r\n        },\r\n        // 审核处理\r\n        qualifyState(d){\r\n            var msg = '确认审核?';\r\n            //var tp = '接单提醒';\r\n            this.$confirm(msg,  {\r\n                distinguishCancelAndClose: true,\r\n                type: 'warning',\r\n                confirmButtonText: '确认',\r\n                cancelButtonText: '取消'\r\n            }).then(() => {\r\n                this.api.update({id:d,state:\"2\"}).then(res => {\r\n                    console.log(res)\r\n                    if(res.code==\"200\"){\r\n                        this.$message.success(\"审核成功\")\r\n                        this.getQualification();\r\n                    }else{\r\n                        this.$message.error(res.message)\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        qualifyState2(d){\r\n            var msg = '确认审核?';\r\n            //var tp = '接单提醒';\r\n            this.$confirm(msg,  {\r\n                distinguishCancelAndClose: true,\r\n                type: 'warning',\r\n                confirmButtonText: '确认',\r\n                cancelButtonText: '取消'\r\n            }).then(() => {\r\n                this.api.update({id:d,state:\"3\"}).then(res => {\r\n                    console.log(res)\r\n                    if(res.code==\"200\"){\r\n                        this.$message.success(\"审核成功\")\r\n                        this.getQualification();\r\n                    }else{\r\n                        this.$message.error(res.message)\r\n                    }\r\n                })\r\n            })\r\n        },\r\n        // handleCert(){\r\n        //     this.$confirm('是否审核通过', '提示', {\r\n        //         confirmButtonText: '确定',\r\n        //         cancelButtonText: '取消',\r\n        //         type: 'warning'\r\n        //         }).then(() => {\r\n        //         this.$message({\r\n        //             type: 'success',\r\n        //             message: '审核成功!'\r\n        //         });\r\n        //         }).catch(() => {\r\n        //         this.$message({\r\n        //             type: 'info',\r\n        //             message: '审核不通过'\r\n        //         });          \r\n        //     });\r\n        // },\r\n        // //获取所有用户\r\n        // async getUserList(){\r\n        //     const {data:res} = await this.$http.get(\"get\");\r\n        //     this.userlist = res.data;\r\n\r\n        // },\r\n    }\r\n}\r\n</script>"]}]}